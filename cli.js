#!/usr/bin/env node
__dirname=process.cwd(),function(){var fs,path,yargs,livescript,argv;if(fs=require("fs"),path=require("path"),yargs=require("yargs"),livescript=require("./livescript.min.js"),argv=yargs.command("ls2 <filepath>","Run filepath").command("ls2 -c <src> <dist>","Compile src to dist").option("c",{alias:"compile",type:"array",describe:"Compile src to dist"}).option("b",{alias:"bare",type:"boolean",default:!1,describe:"Compile without the top-level function wrapper"}).option("e",{alias:"header",type:"boolean",default:!0,describe:'Add the "Generated by" header'}).option("n",{type:"boolean",describe:"Negate of --header"}).alias("h","help").alias("v","version").argv,!1==!argv.compile)(function(){var ref$,src,dist,bare,header,code;if(argv.compile.length<2)throw Error("Missing <src> or <dist> args");src=(ref$=argv.compile)[0],dist=ref$[1],bare=argv.bare,header=argv.header,src=path.resolve(__dirname,src),dist=path.resolve(__dirname,dist),argv.n&&(header=!1),code=fs.readFileSync(src,"utf8"),code=livescript.compile(code,{bare:bare,header:header}),fs.writeFileSync(dist,code)}).call(this);else(function(){var filepath,require,code;filepath=argv._[0],filepath&&(require=global.require=function(file){return/^\.{0,2}\//.test(file)?module.require(path.resolve(__dirname,file)):module.require(file)},filepath.endsWith(".ls")||(filepath+=".ls"),filepath=path.resolve(__dirname,filepath),code=fs.readFileSync(filepath,"utf8"),code=livescript.compile(code),code="delete code;"+code,function(fs,path,yargs,livescript,argv,filepath){eval(code)}())}).call(this)}.call(this);